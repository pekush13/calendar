{"version":3,"sources":["src/index.js"],"names":["defaultCallback","start","end","console","log","createElement","tag","attrs","element","document","toUpperCase","name","Array","isArray","i","classList","add","appendChild","innerText","innerHTML","event","addEventListener","attr","setAttribute","getDateElement","date","className","children","text","addNull","getDate","setDisableClass","nm","String","length","getFirstDays","secondDate","Date","getFullYear","getMonth","lastMonthDate","arDates","getDay","push","reverse","getLastDays","lastDate","secondMonthDate","j","getDates","getDatesBlock","dates","map","datesBlock","Math","ceil","row","arrow","getWeekDays","locale","UTC","weekDays","toLocaleString","weekday","setDate","setSelectDate","content","selectDate","querySelector","querySelectorAll","remove","getAttribute","valueOf","setSelectDateRange","getRangeElement","getRangeDate","startElement","endElement","removeActive","onRangeSelect","ev","options","onSelect","target","currentTarget","includes","contains","rangeSelect","registerSelect","select","getRawCalendar","window","navigator","language","month","header","on","click","stopPropagation","fill","_","href","preventDefault","onSelectMonth","contenteditable","keyup","onInputYear","html","onPrev","onNext","weekBlock","week","range","addMonth","nmMonth","setMonth","getCalendar","container","usageDate","value","test","setYear","h3","pekushCalendar","new"],"mappings":"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","file":"src.fd01a3af.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n\nconst defaultCallback = (start, end) => console.log(start, end);\n\nfunction createElement(tag, attrs) {\n  const element = document.createElement(tag.toUpperCase());\n  for (let name in attrs) {\n    switch (name) {\n      case \"className\":\n        if (Array.isArray(attrs[name])) {\n          for (let i in attrs[name]) {\n            element.classList.add(attrs[name][i]);\n          }\n        } else {\n          element.classList.add(attrs[name]);\n        }\n\n        break;\n      case \"children\":\n        for (let i in attrs[name]) {\n          element.appendChild(attrs[name][i]);\n        }\n        break;\n      case \"text\":\n        element.innerText = attrs[name];\n        break;\n      case \"html\":\n        element.innerHTML = attrs[name];\n        break;\n      case \"on\":\n        for (let event in attrs[name]) {\n          element.addEventListener(event, attrs[name][event]);\n        }\n        break;\n      case \"attrs\":\n        for (let attr in attrs[name]) {\n          element.setAttribute(attr, attrs[name][attr]);\n        }\n        break;\n      default:\n        if (name in element) {\n          element[name] = attrs[name];\n          break;\n        }\n        element.setAttribute(name, attrs[name]);\n    }\n  }\n  return element;\n}\n\nfunction getDateElement(date) {\n  return createElement(\"div\", {\n    className: \"date\",\n    children: [\n      createElement(\"b\", {\n        text: addNull(date.getDate()),\n      }),\n    ],\n    \"data-date\": date,\n  });\n}\n\nfunction setDisableClass(element) {\n  element.classList.add(\"disable\");\n  return element;\n}\n\nfunction addNull(nm) {\n  return String(nm).length == 1 ? \"0\" + nm : String(nm);\n}\n\nfunction getFirstDays(date) {\n  const secondDate = new Date(date.getFullYear(), date.getMonth(), 1);\n  const lastMonthDate = new Date(date.getFullYear(), date.getMonth(), 0);\n  const arDates = [];\n\n  for (let i = 0; i < secondDate.getDay() - 1; i++) {\n    arDates.push(\n      new Date(\n        lastMonthDate.getFullYear(),\n        lastMonthDate.getMonth(),\n        lastMonthDate.getDate() - i\n      )\n    );\n  }\n  return arDates.reverse();\n}\n\nfunction getLastDays(date) {\n  const lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n  const secondMonthDate = new Date(date.getFullYear(), date.getMonth() + 2, 0);\n  const arDates = [];\n  let j = 1;\n  for (let i = lastDate.getDay() + 1; i <= 7; i++) {\n    arDates.push(\n      new Date(secondMonthDate.getFullYear(), secondMonthDate.getMonth(), j++)\n    );\n  }\n  return arDates;\n}\n\nfunction getDates(date) {\n  const lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n  const arDates = [];\n  for (let i = 1; i <= lastDate.getDate(); i++) {\n    arDates.push(new Date(lastDate.getFullYear(), lastDate.getMonth(), i));\n  }\n  return arDates;\n}\n\nfunction getDatesBlock(date) {\n  const dates = [\n    ...getFirstDays(date).map(getDateElement).map(setDisableClass),\n    ...getDates(date).map(getDateElement),\n    ...getLastDays(date).map(getDateElement).map(setDisableClass),\n  ];\n\n  const datesBlock = createElement(\"div\", {\n    className: \"dates\",\n  });\n\n  for (let i = 0; i < Math.ceil(dates.length / 7); i++) {\n    const row = createElement(\"div\", { className: \"row\" });\n    for (let j = i * 7; j <= i * 7 + 6; j++) {\n      if (dates[j]) {\n        row.appendChild(dates[j]);\n      }\n    }\n    datesBlock.appendChild(row);\n  }\n  return datesBlock;\n}\n\nconst arrow = `<svg width=\"7\" height=\"11\" viewBox=\"0 0 7 11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M6.14001 0.787354L1.16001 5.14485L6.14001 9.50235\" stroke=\"black\" stroke-width=\"1.55625\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>\n`;\n\nfunction getWeekDays(locale) {\n  let date = new Date(Date.UTC(2012, 11, 10, 3, 0, 0));\n  const weekDays = [];\n  for (let i = 0; i <= 6; i++) {\n    weekDays.push(date.toLocaleString(locale, { weekday: \"short\" }));\n    date.setDate(date.getDate() + 1);\n  }\n  return weekDays;\n}\n\nfunction getDate(date) {\n  return date\n    ? new Date(date.getFullYear(), date.getMonth(), date.getDate())\n    : false;\n}\n\nfunction setSelectDate(content, selectDate) {\n  selectDate = getDate(selectDate);\n  if (!selectDate) {\n    return;\n  }\n  const dates = content.querySelector(\".dates\").querySelectorAll(\".date\");\n  for (const element of dates) {\n    element.classList.remove(\"select\");\n    const date = new Date(element.getAttribute(\"data-date\"));\n    if (date.valueOf() == selectDate.valueOf()) {\n      element.classList.add(\"select\");\n    }\n  }\n}\n\nfunction setSelectDateRange(content, start, end) {\n  [start, end] = [getDate(start), getDate(end)];\n  if (!start && !end) {\n    return;\n  }\n\n  const dates = content.querySelector(\".dates\").querySelectorAll(\".date\");\n  for (const element of dates) {\n    element.classList.remove(\"path\");\n    element.classList.remove(\"select-start\");\n    element.classList.remove(\"select-end\");\n\n    const date = new Date(element.getAttribute(\"data-date\"));\n    if (start && end) {\n      if (date >= start && date <= end) {\n        element.classList.add(\"path\");\n      }\n    }\n\n    if (start && date.valueOf() == start.valueOf()) {\n      element.classList.add(\"select-start\");\n    }\n\n    if (end && date.valueOf() == end.valueOf()) {\n      element.classList.add(\"select-end\");\n    }\n  }\n}\n\nfunction getRangeElement(content) {\n  return [\n    content.querySelector(\".dates\").querySelector(\".select-start\") || false,\n    content.querySelector(\".dates\").querySelector(\".select-end\") || false,\n  ];\n}\n\nfunction getRangeDate(content) {\n  const [startElement, endElement] = getRangeElement(content);\n  return [\n    startElement ? new Date(startElement.getAttribute(\"data-date\")) : false,\n    endElement ? new Date(endElement.getAttribute(\"data-date\")) : false,\n  ];\n}\n\nfunction removeActive(content) {\n  const dates = content.querySelector(\".dates\").querySelectorAll(\".date\");\n  for (const element of dates) {\n    element.classList.remove(\"active\");\n  }\n}\n\nfunction onRangeSelect(content, ev, options) {\n  const { onSelect = defaultCallback } = options;\n  let { start, end } = options;\n  const target = ev.currentTarget;\n  const date = new Date(target.getAttribute(\"data-date\"));\n\n  const setDate = (start, end) => {\n    options.start = start;\n    options.end = end;\n    setSelectDateRange(content, start, end);\n  };\n\n  if (start && end) {\n    if (![start.valueOf(), end.valueOf()].includes(date.valueOf())) {\n      if (date.valueOf() < start.valueOf()) {\n        setDate(date, end);\n      } else if (date.valueOf() > end.valueOf()) {\n        setDate(start, date);\n      } else {\n        const [_, endElement] = getRangeElement(content);\n        if (endElement && endElement.classList.contains(\"active\")) {\n          setDate(start, date);\n        } else {\n          setDate(date, end);\n        }\n      }\n    }\n    onSelect(...getRangeDate(content));\n    removeActive(content);\n    target.classList.add(\"active\");\n  } else if (start || end) {\n    const selectDate = start || end;\n    if (date.valueOf() != selectDate.valueOf()) {\n      if (selectDate.valueOf() > date.valueOf()) {\n        setDate(date, selectDate);\n      } else {\n        setDate(selectDate, date);\n      }\n    }\n    onSelect(...getRangeDate(content));\n    removeActive(content);\n    target.classList.add(\"active\");\n  }\n}\n\nfunction rangeSelect(content, options) {\n  const dates = content.querySelector(\".dates\").querySelectorAll(\".date\");\n  for (const element of dates) {\n    element.addEventListener(\n      \"click\",\n      (ev) => onRangeSelect(content, ev, options),\n      true\n    );\n  }\n}\n\nfunction registerSelect(content, options) {\n  const dates = content.querySelector(\".dates\").querySelectorAll(\".date\");\n  for (const element of dates) {\n    element.addEventListener(\n      \"click\",\n      (ev) => {\n        const target = ev.currentTarget;\n        const { onSelect = defaultCallback } = options;\n        options.select = new Date(target.getAttribute(\"data-date\"));\n        setSelectDate(content, options.select);\n        onSelect(options.select);\n      },\n      true\n    );\n  }\n}\n\nfunction getRawCalendar(date, options) {\n  const { locale = window.navigator.language } = options;\n  const month = date.toLocaleString(locale, {\n    month: \"long\",\n  });\n\n  const weekDays = getWeekDays(locale);\n\n  const header = createElement(\"div\", {\n    className: \"header\",\n    children: [\n      createElement(\"div\", {\n        classList: \"caption\",\n        children: [\n          createElement(\"span\", {\n            children: [\n              createElement(\"h3\", {\n                text: month,\n                on: {\n                  click: (ev) => {\n                    ev.stopPropagation();\n                    ev.target.classList.add(\"focus\");\n                  },\n                },\n              }),\n              createElement(\"ul\", {\n                className: \"select\",\n                children: Array(12)\n                  .fill(0)\n                  .map((_, i) =>\n                    createElement(\"li\", {\n                      children: [\n                        createElement(\"a\", {\n                          href: i,\n                          text: new Date(\n                            date.getFullYear(),\n                            i,\n                            date.getDate()\n                          ).toLocaleString(locale, {\n                            month: \"long\",\n                          }),\n                          on: {\n                            click: (...attr) => {\n                              const [ev] = attr;\n                              ev.preventDefault();\n                              options.onSelectMonth(...attr);\n                            },\n                          },\n                        }),\n                      ],\n                    })\n                  ),\n              }),\n            ],\n          }),\n\n          createElement(\"p\", {\n            text: date.getFullYear(),\n            contenteditable: true,\n            on: {\n              keyup: options.onInputYear,\n            },\n          }),\n        ],\n      }),\n      createElement(\"div\", {\n        className: \"input\",\n        children: [\n          createElement(\"button\", {\n            className: [\"btn\", \"arrow\", \"left\"],\n            html: arrow,\n            on: {\n              click: options.onPrev,\n            },\n          }),\n          createElement(\"button\", {\n            className: [\"btn\", \"arrow\", \"right\"],\n            html: arrow,\n            on: {\n              click: options.onNext,\n            },\n          }),\n        ],\n      }),\n    ],\n  });\n\n  const weekBlock = createElement(\"div\", {\n    className: \"weeks\",\n    children: weekDays.map((week) =>\n      createElement(\"div\", {\n        className: \"item\",\n        text: week,\n      })\n    ),\n  });\n\n  const content = createElement(\"div\", {\n    className: \"content\",\n    children: [weekBlock, getDatesBlock(date)],\n  });\n\n  if (options.range) {\n    setSelectDateRange(content, options.start, options.end);\n    rangeSelect(content, options);\n  } else {\n    setSelectDate(content, options.select);\n    registerSelect(content, options);\n  }\n\n  return createElement(\"div\", {\n    className: \"wrap\",\n    children: [header, content],\n  });\n}\n\nfunction addMonth(date, month) {\n  const nmMonth = date.getMonth() + month;\n  date.setMonth(nmMonth);\n  return date;\n}\n\nfunction getCalendar(date, options) {\n  const container = createElement(\"div\", {\n    className: \"pekush-calendar\",\n  });\n  options.onPrev = () => {\n    const usageDate = addMonth(date, -1);\n    container.innerHTML = \"\";\n    container.appendChild(getRawCalendar(usageDate, options));\n  };\n\n  options.onNext = () => {\n    const usageDate = addMonth(date, 1);\n    container.innerHTML = \"\";\n    container.appendChild(getRawCalendar(usageDate, options));\n  };\n\n  options.onInputYear = (ev) => {\n    const value = ev.target.innerText;\n    if (/^((19|20)[0-9]{2}){1}$/.test(value)) {\n      date.setYear(value);\n      container.innerHTML = \"\";\n      container.appendChild(getRawCalendar(date, options));\n    }\n  };\n\n  options.onSelectMonth = (ev) => {\n    date.setMonth(ev.target.getAttribute(\"href\"));\n    container.innerHTML = \"\";\n    container.appendChild(getRawCalendar(date, options));\n  };\n\n  container.appendChild(getRawCalendar(date, options));\n\n  document.addEventListener(\"click\", () => {\n    const h3 = container.querySelector(\".header h3.focus\");\n    if (container.querySelector(\".header h3.focus\")) {\n      h3.classList.remove(\"focus\");\n    }\n  });\n\n  return container;\n}\n\nwindow.pekushCalendar = {\n  new: getCalendar,\n};\n"]}